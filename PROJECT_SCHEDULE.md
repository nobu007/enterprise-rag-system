# プロジェクト開発スケジュール

本ドキュメントは、`ISSUES.md` (技術的負債・基盤整備) および `IMPLEMENTATION_ROADMAP.md` (機能開発) に基づく統合スケジュール案です。

## 📅 全体タイムライン概要

- **Week 0:** 基盤整備・技術的負債の解消 (Issues)
- **Week 1-4:** Phase 1 (コア機能: ドキュメント処理・検索・RAG)
- **Week 4-6:** Phase 2 (エンタープライズ機能: 認証・マルチテナント)
- **Week 7-9:** Phase 3 (スケーラビリティ: 非同期・キャッシュ)

---

## 🛠️ Week 0: 基盤整備 (Foundation)

開発効率と品質を担保するための環境整備期間です。

| ID | タスク名 | 優先度 | 工数 (h) | 概要 |
| :--- | :--- | :--- | :--- | :--- |
| **I-1** | **テスト戦略の確立と実装** | **High** | 8h | pytest設定、Unit/Integrationテスト基盤作成 |
| **I-4** | **セキュリティと構成管理** | **High** | 3h | ハードコード排除、CORS修正、環境変数化 |
| **I-3** | **非同期処理 (AsyncIO) 最適化** | **High** | 6h | OpenAIクライアント非同期化、APIノンブロッキング化 |
| **I-2** | **構造化ロギング導入** | Medium | 4h | `print`廃止、JSONロギング導入 |
| **I-5** | **DI (依存性注入) リファクタリング** | Medium | 4h | グローバル変数廃止、FastAPI Depends活用 |

**合計工数:** 25h

---

## 🚀 Phase 1: コア機能強化 (Core Features)

RAGシステムの根幹となる検索精度とドキュメント処理能力を向上させます。

### Week 1-2: ドキュメント処理 & インデクシング

| ID | タスク名 | 優先度 | 工数 (h) | 概要 |
| :--- | :--- | :--- | :--- | :--- |
| **R-1.1** | **高度なドキュメント処理** | High | 40h | Unstructured.io統合(PDF/Office)、セマンティックチャンキング |
| **R-1.2a** | **Dense Retrieval強化** | High | 20h | マルチ言語対応Embeddingモデル、ファインチューニング準備 |

### Week 2-3: 検索エンジン最適化

| ID | タスク名 | 優先度 | 工数 (h) | 概要 |
| :--- | :--- | :--- | :--- | :--- |
| **R-1.2b** | **Sparse Retrieval & Hybrid** | High | 20h | BM25実装、Hybrid検索ロジック統合 |
| **R-1.2c** | **Re-ranking & Fusion** | High | 20h | Cohere Rerank導入、RRF (Reciprocal Rank Fusion) 実装 |

### Week 3-4: RAG生成・回答品質向上

| ID | タスク名 | 優先度 | 工数 (h) | 概要 |
| :--- | :--- | :--- | :--- | :--- |
| **R-1.3** | **高度なRAG手法** | Medium | 60h | HyDE, Query Decomposition, CoT/ReActエージェント |

**合計工数:** 160h

---

## 🏢 Phase 2: エンタープライズ機能 (Enterprise Ready)

組織での利用に必要な管理機能を追加します。

| ID | タスク名 | 優先度 | 工数 (h) | 概要 |
| :--- | :--- | :--- | :--- | :--- |
| **R-2.1** | **認証・認可 (OAuth/RBAC)** | High | 40h | Azure AD/Google連携、ロールベースアクセス制御 |
| **R-2.2** | **マルチテナンシー** | Medium | 30h | データ分離、組織管理機能 |
| **R-2.3** | **セキュリティ・監査** | Medium | 20h | PII検出・マスキング、監査ログ基盤 |

**合計工数:** 90h

---

## 📈 Phase 3: スケーラビリティ & パフォーマンス

本番負荷に耐えうるシステムへ拡張します。

| ID | タスク名 | 優先度 | 工数 (h) | 概要 |
| :--- | :--- | :--- | :--- | :--- |
| **R-3.1** | **非同期タスクキュー** | High | 30h | Celery/Redis導入、バッチ処理化 |
| **R-3.2** | **キャッシング戦略** | Medium | 20h | Redisキャッシュレイヤー、キャッシュ無効化戦略 |
| **R-3.3** | **ベクトル検索最適化** | Low | 20h | インデックスチューニング、QPS向上 |

**合計工数:** 70h
